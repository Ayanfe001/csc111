<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COS 101 Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom scrollbar for a polished look */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        .hidden { display: none !important; }
    </style>
</head>
<body class="bg-slate-50 font-sans text-slate-800 min-h-screen flex flex-col items-center p-4">

    <!-- Header (Always visible) -->
    <div class="bg-indigo-900 text-white p-4 shadow-md rounded-b-lg sm:rounded-b-2xl mb-6 sm:mb-8 text-center border-b-4 border-indigo-500 max-w-4xl w-full">
        <h1 class="text-xl sm:text-2xl font-bold leading-tight">COS 101 quiz by HoRlyâ€™s_Tech Gadgets Sales N Repair.</h1>
        <p class="text-indigo-200 mt-1 sm:text-lg font-medium tracking-wide">Tell: 09121213936</p>
    </div>

    <!-- 1. LOGIN SCREEN -->
    <div id="login-screen" class="bg-white p-6 sm:p-10 rounded-2xl shadow-xl w-full max-w-md border border-slate-100 mt-10">
        <div class="flex justify-center mb-6">
            <div class="bg-indigo-100 p-4 rounded-full">
                <!-- User Icon -->
                <svg class="text-indigo-600 w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
            </div>
        </div>
        <h2 class="text-2xl font-bold text-center mb-2">Student Login</h2>
        <p class="text-slate-500 text-center mb-8">Please enter your name to begin the test.</p>
        <form id="login-form" class="space-y-6">
            <div>
                <label class="block text-sm font-semibold text-slate-700 mb-2">Your Name</label>
                <input type="text" id="student-name" required class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none" placeholder="e.g. horly's_tech" />
            </div>
            <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center transition-colors">
                Continue 
                <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
            </button>
        </form>
    </div>

    <!-- 2. SETUP SCREEN -->
    <div id="setup-screen" class="hidden bg-white p-6 sm:p-10 rounded-2xl shadow-xl w-full max-w-lg border border-slate-100 mt-6">
        <h2 class="text-2xl font-bold mb-2">Welcome, <span id="display-name" class="text-indigo-600"></span>!</h2>
        <p class="text-slate-500 mb-8">Customize your test settings before starting.</p>
        
        <div class="space-y-6">
            <div>
                <label class="block text-sm font-semibold text-slate-700 mb-3">Select Number of Questions:</label>
                <div class="grid grid-cols-3 gap-3" id="question-count-buttons">
                    <button type="button" data-count="30" class="count-btn py-3 rounded-lg border-2 font-bold transition-all border-indigo-600 bg-indigo-50 text-indigo-700">30</button>
                    <button type="button" data-count="50" class="count-btn py-3 rounded-lg border-2 font-bold transition-all border-slate-200 text-slate-600 hover:border-indigo-300">50</button>
                    <button type="button" data-count="100" class="count-btn py-3 rounded-lg border-2 font-bold transition-all border-slate-200 text-slate-600 hover:border-indigo-300">100</button>
                </div>
            </div>

            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start">
                <svg class="text-blue-500 w-5 h-5 mr-3 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <div>
                    <p class="text-sm text-blue-800 font-semibold mb-1">Time Limit Warning</p>
                    <p id="time-warning-text" class="text-sm text-blue-700">You will have exactly 7 minutes to complete 30 questions.</p>
                </div>
            </div>

            <button id="start-quiz-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-4 rounded-lg flex items-center justify-center transition-colors mt-4 text-lg">
                Start Quiz Now
            </button>
        </div>
    </div>

    <!-- 3. QUIZ SCREEN -->
    <div id="quiz-screen" class="hidden w-full max-w-3xl">
        <!-- Dashboard -->
        <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex justify-between items-center mb-6 sticky top-4 z-10">
            <div class="flex items-center">
                <span id="progress-text" class="bg-slate-100 text-slate-700 px-3 py-1 rounded-full text-sm font-bold">
                    Q 1 / 30
                </span>
            </div>
            <div id="timer-display" class="flex items-center font-mono font-bold text-lg px-4 py-1.5 rounded-lg bg-slate-100 text-slate-800">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <span id="time-remaining">00:00</span>
            </div>
        </div>

        <!-- Question Card -->
        <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-md border border-slate-100 mb-6 min-h-[300px]">
            <h2 id="question-text" class="text-xl sm:text-2xl font-semibold mb-6 text-slate-800 leading-snug"></h2>
            <div id="options-container" class="space-y-3">
                <!-- Options injected via JS -->
            </div>
        </div>

        <!-- Navigation -->
        <div class="flex justify-between items-center">
            <button id="prev-btn" class="flex items-center px-5 py-3 rounded-lg font-bold transition-colors bg-white text-slate-700 hover:bg-slate-100 shadow-sm border border-slate-200">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg> Previous
            </button>

            <button id="next-btn" class="flex items-center px-6 py-3 rounded-lg font-bold bg-indigo-600 hover:bg-indigo-700 text-white shadow-md transition-colors">
                Next <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
            </button>
            
            <button id="submit-btn" class="hidden flex items-center px-8 py-3 rounded-lg font-bold bg-green-600 hover:bg-green-700 text-white shadow-md transition-colors text-lg">
                Submit Test <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            </button>
        </div>
    </div>

    <!-- 4. RESULTS SCREEN -->
    <div id="results-screen" class="hidden w-full max-w-4xl space-y-6 pb-12">
        <div class="bg-white p-8 rounded-2xl shadow-xl border border-slate-100 text-center relative overflow-hidden">
            <div id="result-bar" class="absolute top-0 left-0 w-full h-2"></div>
            
            <!-- Award Icon -->
            <svg id="award-icon" class="w-16 h-16 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path></svg>
            
            <h2 class="text-3xl font-bold mb-2">Test Complete, <span id="result-name"></span>!</h2>
            <p class="text-slate-500 mb-6">Here is your final score.</p>
            
            <div class="flex justify-center items-center gap-8 mb-8">
                <div class="text-center">
                    <p class="text-5xl font-black text-slate-800"><span id="score-correct"></span> <span class="text-2xl text-slate-400">/ <span id="score-total"></span></span></p>
                    <p class="text-sm font-semibold text-slate-500 mt-1 uppercase tracking-wider">Correct Answers</p>
                </div>
                <div class="h-16 w-px bg-slate-200"></div>
                <div class="text-center">
                    <p id="score-percentage" class="text-5xl font-black"></p>
                    <p class="text-sm font-semibold text-slate-500 mt-1 uppercase tracking-wider">Total Score</p>
                </div>
            </div>

            <div id="pass-fail-msg" class="inline-block px-6 py-2 rounded-full font-bold text-lg"></div>
        </div>

        <div class="bg-white p-6 rounded-2xl shadow-md border border-slate-100">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-slate-800">Review Answers</h3>
                <button onclick="location.reload()" class="flex items-center text-indigo-600 hover:text-indigo-800 font-bold bg-indigo-50 px-4 py-2 rounded-lg transition-colors">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> 
                    Take Another Test
                </button>
            </div>
            <div id="review-container" class="space-y-6">
                <!-- Answer review injected via JS -->
            </div>
        </div>
    </div>

    <script>
        // --- 1. DATA (ALL 100 QUESTIONS) ---
        const allQuestions = [
            { q: "What is a computer?", opts: ["An electronic device that processes data", "A mechanical typewriter", "A power supply unit", "A type of calculator"], ans: 0 },
            { q: "Which of the following is an input device?", opts: ["Printer", "Monitor", "Keyboard", "Speaker"], ans: 2 },
            { q: "The basic operations performed by a computer are:", opts: ["Arithmetic operations", "Logical operations", "Storage and retrieval", "All of the above"], ans: 3 },
            { q: "What does RAM stand for?", opts: ["Read Access Memory", "Random Access Memory", "Read Arithmetic Memory", "Random Arithmetic Memory"], ans: 1 },
            { q: "Which of these is a secondary memory?", opts: ["RAM", "Hard Disk", "CPU", "ROM"], ans: 1 },
            { q: "The full form of CPU is:", opts: ["Central Processing Unit", "Computer Processing Unit", "Central Programming Unit", "Computer Programming Unit"], ans: 0 },
            { q: "Which of these is an Operating System?", opts: ["MS Word", "Chrome", "Windows", "Fortnite"], ans: 2 },
            { q: "The smallest unit of data in a computer is?", opts: ["Byte", "Kilo", "Bit", "Mega"], ans: 2 },
            { q: "Which device is used to convert a digital signal to an analog signal (and vice versa) for communication?", opts: ["Modem", "Monitor", "Printer", "Scanner"], ans: 0 },
            { q: "What is the primary use of an OS (Operating System)?", opts: ["To play games", "To manage computer hardware and software resources", "To browse the internet", "To edit photos"], ans: 1 },
            { q: "Which of these is volatile memory?", opts: ["Hard Disk", "ROM", "RAM", "Flash Drive"], ans: 2 },
            { q: "The work of the ALU (Arithmetic Logic Unit) is:", opts: ["To store data", "To perform mathematical and logical calculations", "To control the flow of data", "To display graphics"], ans: 1 },
            { q: "Which generation of computer used vacuum tubes?", opts: ["First Generation", "Second Generation", "Third Generation", "Fourth Generation"], ans: 0 },
            { q: "What type of software is Microsoft PowerPoint?", opts: ["Database", "Operating System", "Presentation Software", "Spreadsheet"], ans: 2 },
            { q: "Which port is commonly used to connect a modern printer to the computer?", opts: ["VGA", "USB", "HDMI", "PS/2"], ans: 1 },
            { q: "What is a pixel?", opts: ["A type of virus", "The smallest controllable element of a picture represented on the screen", "A programming language", "A sound file"], ans: 1 },
            { q: "Which of these is NOT a web browser?", opts: ["Chrome", "Firefox", "Photoshop", "Edge"], ans: 2 },
            { q: "What does URL stand for?", opts: ["Uniform Resource Locator", "Universal Resource Locator", "Uniform Resource Link", "Unique Resource Link"], ans: 0 },
            { q: "Which of these is an example of malware?", opts: ["Firewall", "Virus", "Antivirus", "Firefox"], ans: 1 },
            { q: "What is a firewall?", opts: ["A wall that protects the computer from fire", "A network security system that monitors and controls incoming and outgoing traffic", "A type of virus", "A web browser"], ans: 1 },
            { q: "Which device is used for Uninterrupted Power Supply?", opts: ["USB", "UPS", "CPU", "GPS"], ans: 1 },
            { q: "What is a high-level programming language?", opts: ["Windows", "Python", "Linux", "Unix"], ans: 1 },
            { q: "The meaning of HTTP is:", opts: ["HyperText Transfer Protocol", "HyperText Transmission Protocol", "High Transfer Text Protocol", "HyperText Type Protocol"], ans: 0 },
            { q: "Which unit is used to measure the processing speed of the CPU?", opts: ["Gigabytes (GB)", "Hertz (Hz/GHz)", "Pixels", "Bits per second"], ans: 1 },
            { q: "What is a computer application?", opts: ["The physical parts of a computer", "Software designed to perform specific tasks for the user", "The operating system", "The internet"], ans: 1 },
            { q: "Which of these is NOT a type of printer?", opts: ["Laserjet", "Plotter", "Monitor", "Inkjet"], ans: 2 },
            { q: "What is the purpose of the monitor?", opts: ["To process data", "To input data", "To display visual output", "To store files"], ans: 2 },
            { q: "Which device is used to generate input graphics or copy documents into the computer?", opts: ["Scanner", "Printer", "Speaker", "Projector"], ans: 0 },
            { q: "What is the full form of PDF?", opts: ["Printed Document Format", "Portable Document Format", "Public Document File", "Personal Data File"], ans: 1 },
            { q: "Which of these refers to a computer network?", opts: ["CPU", "LAN (Local Area Network)", "USB", "PNG"], ans: 1 },
            { q: "What is the purpose of BIOS?", opts: ["To edit videos", "To initialize hardware during booting", "To browse the web", "To scan for viruses"], ans: 1 },
            { q: "Which device is used to point and select items on the screen?", opts: ["Keyboard", "Mouse", "Speaker", "Printer"], ans: 1 },
            { q: "Which of these is NOT a valid file extension?", opts: [".exe", ".doc", ".txt", ".cpu"], ans: 3 },
            { q: "What is the function of the motherboard?", opts: ["To supply power", "To hold and connect the crucial electronic components of the computer", "To display images", "To type text"], ans: 1 },
            { q: "Which is a search engine?", opts: ["Google", "Microsoft Word", "Windows", "Photoshop"], ans: 0 },
            { q: "The purpose of a server is?", opts: ["To type documents", "To provide resources, data, or services to other computers on a network", "To play music", "To cool down the CPU"], ans: 1 },
            { q: "A device that enables online video chat is a?", opts: ["Webcam", "Scanner", "Printer", "Joystick"], ans: 0 },
            { q: "The function of an IP address is?", opts: ["To identify the user's name", "To identify a device on a network", "To measure internet speed", "To protect against viruses"], ans: 1 },
            { q: "The purpose of a compiler is?", opts: ["To write code", "To translate high-level code into machine code", "To execute games", "To browse the internet"], ans: 1 },
            { q: "The function of ROM (Read Only Memory) is?", opts: ["To store temporary data", "To store permanent instructions required to start the computer", "To store user files", "To increase game speed"], ans: 1 },
            { q: "What generation of computer uses an Integrated Circuit (IC)?", opts: ["First", "Second", "Third", "Fourth"], ans: 2 },
            { q: "What is Cloud Computing?", opts: ["Computing during a storm", "Delivering computing services (servers, storage, etc.) over the internet", "Using a wireless mouse", "Printing from a cloud printer"], ans: 1 },
            { q: "Which of these is a type of malware?", opts: ["Trojan", "Anti-virus", "Firewall", "Backup"], ans: 0 },
            { q: "What is the purpose of a device driver?", opts: ["To physically drive the computer", "A program that operates or controls a particular type of device attached to a computer", "To cool the system", "To supply power"], ans: 1 },
            { q: "Which is NOT a type of computer?", opts: ["Supercomputer", "Mainframe", "Microcomputer", "Internet"], ans: 3 },
            { q: "What is a database?", opts: ["A base for data entry", "An organized collection of structured information, or data", "A type of monitor", "A programming language"], ans: 1 },
            { q: "Which is NOT a type of computer memory?", opts: ["RAM", "ROM", "Monitor", "Cache"], ans: 2 },
            { q: "What is the function of an Ethernet card (NIC)?", opts: ["To display graphics", "To connect a computer to a network", "To store files", "To print documents"], ans: 1 },
            { q: "What is the purpose of a PSU (Power Supply Unit)?", opts: ["To store data", "To convert mains AC to low-voltage regulated DC power for the internal components", "To process calculations", "To cool the CPU"], ans: 1 },
            { q: "A device used to control video games is a?", opts: ["Joystick / Gamepad", "Scanner", "Printer", "Microphone"], ans: 0 },
            { q: "A network switch is used to?", opts: ["Turn the internet on and off", "Connect multiple devices on a computer network and route data to the destination", "Scan for viruses", "Print photos"], ans: 1 },
            { q: "What is the purpose of virtual memory?", opts: ["To download more RAM", "To use a section of the hard drive as an extension of RAM", "To play virtual reality games", "To store emails"], ans: 1 },
            { q: "What device is typically used to connect a home network to the Internet Service Provider (ISP)?", opts: ["Monitor", "Modem", "Printer", "Sound Card"], ans: 1 },
            { q: "A sound card is used to?", opts: ["Record video", "Process and deliver audio output", "Connect to the internet", "Save Word documents"], ans: 1 },
            { q: "Which is NOT a type of monitor technology?", opts: ["LED", "CRT", "LCD", "UPS"], ans: 3 },
            { q: "The use of a backup is to?", opts: ["Go back to a previous webpage", "Create a copy of data to recover it in case of data loss", "Speed up the computer", "Hack a system"], ans: 1 },
            { q: "Which is a type of computer file system?", opts: ["NTFS", "HTTP", "HTML", "URL"], ans: 0 },
            { q: "What is the purpose of the taskbar in Windows?", opts: ["To physically hold the monitor", "To locate and launch programs, and view currently open windows", "To clean the screen", "To cool the keyboard"], ans: 1 },
            { q: "What is the purpose of the heat sink?", opts: ["To heat up the computer", "To dissipate heat from the CPU or other components to prevent overheating", "To store hot files", "To burn CDs"], ans: 1 },
            { q: "Which is NOT a type of user interface?", opts: ["GUI (Graphical User Interface)", "CLI (Command Line Interface)", "Apps", "VUI (Voice User Interface)"], ans: 2 },
            { q: "What is the purpose of the Registry in Windows?", opts: ["To register users online", "A central database used to store configuration information and settings", "To write emails", "To clean dust"], ans: 1 },
            { q: "A device used for short-range wireless connection is?", opts: ["Bluetooth", "Ethernet", "Fiber Optic", "Satellite"], ans: 0 },
            { q: "What is the function of the CPU fan?", opts: ["To make noise", "To actively cool the heat sink and CPU", "To spin the hard drive", "To power the monitor"], ans: 1 },
            { q: "Which is NOT a type of computer case form factor?", opts: ["Tower", "Laptop", "Server"], ans: 2 },
            { q: "Which device is NOT a type of Input/Output (I/O) device?", opts: ["Mouse", "Touchscreen", "CPU", "Modem"], ans: 2 },
            { q: "Which is a type of computer battery used on the motherboard?", opts: ["CMOS Battery", "RAM Battery", "AA Battery", "Car Battery"], ans: 0 },
            { q: "A device used for network protection from external threats is?", opts: ["Firewall", "Switch", "Hub", "Repeater"], ans: 0 },
            { q: "The function of a RAID system is to?", opts: ["Kill computer bugs", "Combine multiple disk drive components into a logical unit for redundancy or performance", "Connect to WiFi", "Play videos"], ans: 1 },
            { q: "Which is NOT a type of computer display connection?", opts: ["HDMI", "VGA", "DisplayPort", "RAM"], ans: 3 },
            { q: "The purpose of System Restore is to?", opts: ["Clean the monitor", "Revert the computer's state to a previous point in time", "Delete all files", "Charge the battery"], ans: 1 },
            { q: "Which is NOT a type of physical keyboard mechanism?", opts: ["Mechanical", "Membrane", "Digital (Virtual)", "Scissor-switch"], ans: 2 },
            { q: "What is the purpose of Disk Defragmentation?", opts: ["To delete viruses", "To organize files on the disk to improve access speed", "To break the disk", "To install Windows"], ans: 1 },
            { q: "What is a computer program?", opts: ["A TV show about computers", "A set of instructions that a computer can execute", "A hardware component", "A user manual"], ans: 1 },
            { q: "A program used for software development (coding) is called?", opts: ["IDE (Integrated Development Environment)", "Media Player", "Calculator", "Browser"], ans: 0 },
            { q: "An example of an interpreted language is?", opts: ["C++", "Python", "Assembly", "Machine Code"], ans: 1 },
            { q: "What is Firmware?", opts: ["Soft pillows", "Permanent software programmed into a read-only memory", "A heavy monitor", "An antivirus"], ans: 1 },
            { q: "The purpose of an algorithm is to?", opts: ["Confuse the user", "Provide a step-by-step procedure to solve a problem", "Heat the CPU", "Play music"], ans: 1 },
            { q: "An example of Cloud Storage is?", opts: ["Google Drive / Dropbox", "USB Stick", "CD-ROM", "Floppy Disk"], ans: 0 },
            { q: "Accumulation of dust in the cooling fan causes?", opts: ["Faster processing", "Overheating", "Better graphics", "More storage"], ans: 1 },
            { q: "What is the full form of HTML?", opts: ["HyperText Markup Language", "HighText Machine Language", "HyperText Marking Link", "High Transfer Main Language"], ans: 0 },
            { q: "What is an algorithm?", opts: ["A hardware part", "A specific set of instructions for carrying out a procedure", "A type of monitor", "An input device"], ans: 1 },
            { q: "What is the difference between a compiler and an interpreter?", opts: ["Compiler runs line by line; Interpreter translates the whole code at once", "Compiler translates the whole code at once; Interpreter runs line by line", "Both do the exact same thing", "Compiler is hardware, Interpreter is software"], ans: 1 },
            { q: "What is the main function of the Arithmetic Logic Unit (ALU)?", opts: ["To connect to the internet", "To perform arithmetic and logic operations", "To store the OS", "To boot the computer"], ans: 1 },
            { q: "What is a bus in a computer system?", opts: ["A vehicle for transport", "A communication system that transfers data between components", "A type of power cable", "A cooling fan"], ans: 1 },
            { q: "Which layer of the OSI Model is responsible for logical addressing (IP addresses)?", opts: ["Physical Layer", "Network Layer", "Application Layer", "Session Layer"], ans: 1 },
            { q: "What is the purpose of caching?", opts: ["To delete old files", "To store frequently used data for quicker access", "To slow down the computer", "To encrypt data"], ans: 1 },
            { q: "What is data encapsulation?", opts: ["Deleting data", "The process of adding headers and trailers to data as it moves down the protocol stack", "Breaking the computer", "Compressing files"], ans: 1 },
            { q: "What is the primary difference between Open Source and Proprietary software?", opts: ["Open Source is free; Proprietary is always expensive", "Open Source source code is available to public; Proprietary is closed/owned by a company", "Open Source has viruses; Proprietary does not", "There is no difference"], ans: 1 },
            { q: "What is the standard keyboard shortcut to \"Copy\" selected text?", opts: ["Ctrl + V", "Ctrl + C", "Ctrl + X", "Alt + F4"], ans: 1 },
            { q: "What is the standard keyboard shortcut to \"Paste\" text?", opts: ["Ctrl + P", "Ctrl + V", "Ctrl + C", "Ctrl + Z"], ans: 1 },
            { q: "Which component is often referred to as the \"brain\" of the computer?", opts: ["RAM", "CPU", "Hard Drive", "Motherboard"], ans: 1 },
            { q: "Who is known as the \"Father of the Computer\"?", opts: ["Bill Gates", "Charles Babbage", "Steve Jobs", "Alan Turing"], ans: 1 },
            { q: "What does \"SSD\" stand for in storage technology?", opts: ["Solid State Drive", "Super Speed Disk", "System Storage Device", "Serial State Disk"], ans: 0 },
            { q: "Which of these is a social media platform?", opts: ["LinkedIn", "Excel", "Linux", "Apache"], ans: 0 },
            { q: "What does \"WWW\" stand for in a website address?", opts: ["World Web Wide", "World Wide Web", "World Wide Wares", "Wide World Web"], ans: 1 },
            { q: "Which key is used to refresh the active window in most browsers?", opts: ["F1", "F5", "F10", "Esc"], ans: 1 },
            { q: "1 Kilobyte (KB) is equal to approximately:", opts: ["1000 Bytes (or 1024 Bytes)", "100 Bytes", "1000 Bits", "10 MegaBytes"], ans: 0 },
            { q: "What is \"Phishing\"?", opts: ["A game about fishing", "A cyber attack trying to trick users into revealing sensitive information", "Installing software", "Editing photos"], ans: 1 },
            { q: "Which of the following is an example of a Spreadsheet program?", opts: ["MS Word", "MS Excel", "Notepad", "VLC Player"], ans: 1 },
            { q: "What is the recycle bin used for?", opts: ["To store viruses", "To temporarily store deleted files", "To burn documents", "To keep important files safe"], ans: 1 }
        ];

        // --- 2. STATE VARIABLES ---
        let userName = "";
        let selectedCount = 30; // 30, 50, or 100
        let timeRemaining = 0;
        let timerInterval = null;
        let activeQuestions = [];
        let currentIndex = 0;
        let userAnswers = {};

        // --- 3. DOM ELEMENTS ---
        const screens = {
            login: document.getElementById('login-screen'),
            setup: document.getElementById('setup-screen'),
            quiz: document.getElementById('quiz-screen'),
            results: document.getElementById('results-screen')
        };

        // --- 4. LOGIC & FUNCTIONS ---
        function switchScreen(screenName) {
            Object.values(screens).forEach(s => s.classList.add('hidden'));
            screens[screenName].classList.remove('hidden');
        }

        // Shuffle Array (Fisher-Yates)
        function shuffle(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        // Format Time
        function formatTime(seconds) {
            const m = Math.floor(seconds / 60).toString().padStart(2, '0');
            const s = (seconds % 60).toString().padStart(2, '0');
            return `${m}:${s}`;
        }

        // --- 5. EVENT LISTENERS ---

        // Login Form
        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const nameInput = document.getElementById('student-name').value.trim();
            if (nameInput) {
                userName = nameInput;
                document.getElementById('display-name').textContent = userName;
                switchScreen('setup');
            }
        });

        // Setup Buttons (Count Selection)
        const countBtns = document.querySelectorAll('.count-btn');
        countBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                // Update styling
                countBtns.forEach(b => {
                    b.className = "count-btn py-3 rounded-lg border-2 font-bold transition-all border-slate-200 text-slate-600 hover:border-indigo-300";
                });
                e.target.className = "count-btn py-3 rounded-lg border-2 font-bold transition-all border-indigo-600 bg-indigo-50 text-indigo-700";
                
                selectedCount = parseInt(e.target.dataset.count);
                
                // Update Warning Text
                const warning = document.getElementById('time-warning-text');
                if (selectedCount === 30) warning.textContent = "You will have exactly 7 minutes to complete 30 questions.";
                if (selectedCount === 50) warning.textContent = "You will have exactly 10 minutes to complete 50 questions.";
                if (selectedCount === 100) warning.textContent = "You will have exactly 20 minutes to complete 100 questions.";
            });
        });

        // Start Quiz
        document.getElementById('start-quiz-btn').addEventListener('click', () => {
            // Determine time
            let minutes = 7;
            if (selectedCount === 50) minutes = 10;
            if (selectedCount === 100) minutes = 20;

            // Prepare questions
            let shuffled = shuffle([...allQuestions]);
            activeQuestions = shuffled.slice(0, selectedCount);
            
            // Reset state
            currentIndex = 0;
            userAnswers = {};
            timeRemaining = minutes * 60;
            
            renderQuestion();
            switchScreen('quiz');

            // Start Timer
            const timerDisplay = document.getElementById('timer-display');
            const timeText = document.getElementById('time-remaining');
            
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeRemaining--;
                timeText.textContent = formatTime(timeRemaining);
                
                if (timeRemaining <= 60) {
                    timerDisplay.className = "flex items-center font-mono font-bold text-lg px-4 py-1.5 rounded-lg bg-red-100 text-red-600 animate-pulse";
                } else {
                    timerDisplay.className = "flex items-center font-mono font-bold text-lg px-4 py-1.5 rounded-lg bg-slate-100 text-slate-800";
                }

                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz();
                }
            }, 1000);
        });

        // Render Current Question
        function renderQuestion() {
            const q = activeQuestions[currentIndex];
            
            // Update Dashboard
            document.getElementById('progress-text').textContent = `Q ${currentIndex + 1} / ${selectedCount}`;
            document.getElementById('question-text').textContent = `${currentIndex + 1}. ${q.q}`;
            
            // Update Options
            const optsContainer = document.getElementById('options-container');
            optsContainer.innerHTML = '';
            
            q.opts.forEach((opt, idx) => {
                const isSelected = userAnswers[currentIndex] === idx;
                const letter = String.fromCharCode(65 + idx);
                
                const btn = document.createElement('button');
                btn.className = `w-full text-left p-4 rounded-xl border-2 transition-all flex items-center ${
                    isSelected 
                    ? 'border-indigo-600 bg-indigo-50 shadow-sm' 
                    : 'border-slate-200 hover:border-indigo-300 hover:bg-slate-50'
                }`;
                btn.onclick = () => {
                    userAnswers[currentIndex] = idx;
                    renderQuestion(); // Re-render to show selection
                };
                
                btn.innerHTML = `
                    <span class="w-8 h-8 rounded-full flex items-center justify-center font-bold mr-4 flex-shrink-0 ${isSelected ? 'bg-indigo-600 text-white' : 'bg-slate-200 text-slate-600'}">${letter}</span>
                    <span class="text-base sm:text-lg ${isSelected ? 'text-indigo-900 font-medium' : 'text-slate-700'}">${opt}</span>
                `;
                optsContainer.appendChild(btn);
            });

            // Update Navigation Buttons
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');

            if (currentIndex === 0) {
                prevBtn.disabled = true;
                prevBtn.className = "flex items-center px-5 py-3 rounded-lg font-bold transition-colors bg-slate-200 text-slate-400 cursor-not-allowed";
            } else {
                prevBtn.disabled = false;
                prevBtn.className = "flex items-center px-5 py-3 rounded-lg font-bold transition-colors bg-white text-slate-700 hover:bg-slate-100 shadow-sm border border-slate-200";
            }

            if (currentIndex === activeQuestions.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }

        // Navigation
        document.getElementById('prev-btn').addEventListener('click', () => {
            if (currentIndex > 0) { currentIndex--; renderQuestion(); }
        });
        document.getElementById('next-btn').addEventListener('click', () => {
            if (currentIndex < activeQuestions.length - 1) { currentIndex++; renderQuestion(); }
        });
        document.getElementById('submit-btn').addEventListener('click', submitQuiz);

        // Submit Quiz
        function submitQuiz() {
            clearInterval(timerInterval);
            
            // Calculate Score
            let score = 0;
            activeQuestions.forEach((q, idx) => {
                if (userAnswers[idx] === q.ans) score++;
            });
            
            const percentage = Math.round((score / selectedCount) * 100);
            const passed = percentage >= 50;

            // Update Results UI
            document.getElementById('result-name').textContent = userName;
            document.getElementById('score-correct').textContent = score;
            document.getElementById('score-total').textContent = selectedCount;
            
            const percEl = document.getElementById('score-percentage');
            percEl.textContent = `${percentage}%`;
            percEl.className = `text-5xl font-black ${passed ? 'text-green-600' : 'text-red-600'}`;
            
            const barEl = document.getElementById('result-bar');
            barEl.className = `absolute top-0 left-0 w-full h-2 ${passed ? 'bg-green-500' : 'bg-red-500'}`;

            const iconEl = document.getElementById('award-icon');
            iconEl.className = `w-16 h-16 mx-auto mb-4 ${passed ? 'text-green-500' : 'text-red-500'}`;

            const msgEl = document.getElementById('pass-fail-msg');
            msgEl.textContent = passed ? 'Great Job! You Passed.' : 'Keep studying! You failed this time.';
            msgEl.className = `inline-block px-6 py-2 rounded-full font-bold text-lg ${passed ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`;

            // Build Review Block
            const reviewContainer = document.getElementById('review-container');
            reviewContainer.innerHTML = '';
            
            activeQuestions.forEach((q, qIdx) => {
                const userAns = userAnswers[qIdx];
                const isCorrect = userAns === q.ans;
                const isUnanswered = userAns === undefined;

                let optsHtml = '';
                q.opts.forEach((opt, optIdx) => {
                    const isThisCorrectOpt = optIdx === q.ans;
                    const isThisUserOpt = optIdx === userAns;
                    
                    let optClass = "p-2 rounded border bg-white ";
                    if (isThisCorrectOpt) optClass += "border-green-400 bg-green-100 text-green-800 font-bold ";
                    else if (isThisUserOpt && !isCorrect) optClass += "border-red-400 bg-red-100 text-red-800 font-medium ";
                    else optClass += "border-slate-200 text-slate-500 opacity-60 ";

                    optsHtml += `
                        <div class="${optClass}">
                            <span class="mr-2 font-bold">${String.fromCharCode(65 + optIdx)}.</span> ${opt}
                        </div>
                    `;
                });

                const iconSvg = isCorrect 
                    ? `<svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`
                    : `<svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;

                const blockHtml = `
                    <div class="p-4 rounded-xl border-l-4 ${isCorrect ? 'bg-green-50 border-green-500' : 'bg-red-50 border-red-500'}">
                        <div class="flex items-start">
                            <div class="mt-1 mr-3 flex-shrink-0">${iconSvg}</div>
                            <div class="w-full">
                                <p class="font-semibold text-slate-800 mb-3">${qIdx + 1}. ${q.q}</p>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm">
                                    ${optsHtml}
                                </div>
                                ${isUnanswered ? `<p class="text-red-600 text-sm font-bold mt-2">You did not answer this question.</p>` : ''}
                            </div>
                        </div>
                    </div>
                `;
                reviewContainer.innerHTML += blockHtml;
            });

            switchScreen('results');
        }
    </script>
</body>
</html>

